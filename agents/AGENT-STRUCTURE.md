# ğŸ“ Agent çµæ§‹èˆ‡å»ºç«‹æŒ‡å—

æ¯å€‹ Agent éƒ½æ˜¯ä¸€å€‹ç¨ç«‹çš„ `.md` æª”æ¡ˆï¼Œå®šç¾©äº† AI çš„è§’è‰²ã€å°ˆæ¥­é ˜åŸŸèˆ‡è¡Œç‚ºæ¨¡å¼ã€‚

âš ï¸ **é‡è¦é™åˆ¶ (Official Limitations)**: 
æ ¹æ“š Claude Code å®˜æ–¹è¦ç¯„ï¼ŒAgent å¿…é ˆæ˜¯å–®ä¸€çš„ `.md` æª”æ¡ˆï¼Œç›´æ¥ä½æ–¼ `.claude/agents/` ç›®éŒ„ä¸‹ã€‚**ä¸æ”¯æŒä»»ä½•å­ç›®éŒ„çµæ§‹** (å¦‚ `agent-name/README.md`)ã€‚

âœ… **å„ªåŒ–ç­–ç•¥ (Scheme C)**:
æˆ‘å€‘æ¡ç”¨ã€Œå–®æª”æ¡ˆç²¾ç°¡å„ªåŒ–ã€ç­–ç•¥ï¼š
1. **Agent (`.md`)**: åªä¿ç•™æ ¸å¿ƒæ±ºç­–é‚è¼¯ (Decision Logic)ï¼Œå¤§å°æ§åˆ¶åœ¨ 4-6 KBã€‚
2. **Conventions (`*-conventions.md`)**: å°‡è©³ç´°è¦ç¯„ã€ä»£ç¢¼ç¯„ä¾‹ç§»è‡³å…±äº«æ–‡ä»¶ã€‚
3. **åƒç…§æŒ‡å¼•**: Agent é€éæ˜ç¢ºæŒ‡å¼• (Reference Guidelines) å¼•å° AI æŸ¥é–± Conventionsã€‚

---

## ğŸ“‹ å»ºç«‹æ–° Agent

éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼Œæ‚¨å¯ä»¥å¿«é€Ÿå»ºç«‹ä¸€å€‹æ–°çš„å°ˆå®¶ Agentã€‚

### 1. å»ºç«‹æª”æ¡ˆ
åœ¨ `.claude/agents/` ç›®éŒ„ä¸‹å»ºç«‹ `.md` æª”æ¡ˆã€‚
```bash
touch .claude/agents/my-agent.md
```

### 2. å®šç¾© Metadata (YAML Frontmatter)
åœ¨æª”æ¡ˆé ‚éƒ¨åŠ å…¥ YAML å€å¡Šï¼Œå®šç¾© Agent çš„åŸºæœ¬è³‡è¨Šèˆ‡è‡ªå‹•è§¸ç™¼æ¢ä»¶ã€‚

```yaml
---
name: agent-name              # Agent è­˜åˆ¥åç¨±
description: "ä½•æ™‚ä½¿ç”¨..."    # è‡ªå‹•è§¸ç™¼æ¢ä»¶èªªæ˜ (é—œéµå­—ã€æª”æ¡ˆé¡å‹ã€å·¥ä½œæƒ…å¢ƒ)
model: sonnet                 # ä½¿ç”¨çš„ AI æ¨¡å‹ (å¦‚ sonnet, haiku)
---
```

### 3. æ’°å¯«æ ¸å¿ƒæŒ‡ä»¤ (Instructions)
åœ¨ YAML ä¸‹æ–¹å®šç¾© Agent çš„å°ˆæ¥­é ˜åŸŸèˆ‡è¡Œç‚ºè¦ç¯„ã€‚å»ºè­°åŒ…å«ä»¥ä¸‹å€å¡Šï¼š

```markdown
You are an expert [role description]...

## Core Competencies (æ ¸å¿ƒèƒ½åŠ›)
- åˆ—å‡º Agent æ“…é•·çš„æŠ€è¡“æˆ–é ˜åŸŸ
- ä¾‹å¦‚ï¼šLaravel APIã€Flutter UIã€Security Review

## Review/Development Approach (é–‹ç™¼èˆ‡å¯©æŸ¥æ–¹å¼)
- èªªæ˜ Agent çš„å·¥ä½œé‚è¼¯
- æª¢æŸ¥æ¸…å–® (Checklist)
- å¼·èª¿çš„åŸå‰‡ (å¦‚ SOLID, DRY)

## Output Format (è¼¸å‡ºæ ¼å¼)
- å®šç¾©è¼¸å‡ºçš„æ¨¡æ¿æˆ–é¢¨æ ¼
- æä¾›ç¨‹å¼ç¢¼ç¯„ä¾‹çš„æ ¼å¼

## Best Practices (æœ€ä½³å¯¦è¸)
- å»ºè­°éµå¾ªçš„è¦ç¯„
```

### 4. æ›´æ–°å°è¦½
åœ¨ `.claude/agents/README.md` çš„ã€Œå¯ç”¨ Agentsã€å€å¡ŠåŠ å…¥æ–° Agent çš„èªªæ˜ï¼Œæ–¹ä¾¿æŸ¥é–±ã€‚

---

## ğŸ¨ Agent è¨­è¨ˆåŸå‰‡

### 1. å–®ä¸€è·è²¬ (Single Responsibility)
æ¯å€‹ Agent æ‡‰å°ˆæ³¨æ–¼ä¸€å€‹æ˜ç¢ºçš„è§’è‰²ã€‚
- âœ… `laravel-expert` (é–‹ç™¼) èˆ‡ `laravel-reviewer` (å¯©æŸ¥) æ‡‰åˆ†é–‹ï¼Œä»¥ä¿æŒæŒ‡ä»¤ç²¾ç°¡ä¸”ç²¾ç¢ºã€‚
- âŒ é¿å…åœ¨åŒä¸€å€‹ Agent ä¸­æ··åˆéå¤šä¸ç›¸é—œçš„è·è²¬ã€‚

### 2. å¼·å¤§çš„è§¸ç™¼æ¢ä»¶ (Smart Discovery)
åœ¨ `description` ä¸­æ˜ç¢ºèªªæ˜è§¸ç™¼æƒ…å¢ƒï¼Œé€™èƒ½å¹«åŠ©ç³»çµ±åœ¨å°è©±ä¸­è‡ªå‹•åµæ¸¬ä¸¦åˆ‡æ›è§’è‰²ï¼š
- **é—œéµå­—**: "API endpoints", "database schema"
- **æª”æ¡ˆé¡å‹**: `.php`, `.dart`, `composer.json`
- **ä½¿ç”¨è€…æ„åœ–**: "code review", "refactoring"

### 3. çµæ§‹åŒ–çš„è¼¸å‡ºç¯„æœ¬
æä¾›æ¸…æ™°çš„è¼¸å‡ºæ¡†æ¶ï¼Œèƒ½è®“ AI çš„å›æ‡‰æ›´å…·ä¸€è‡´æ€§èˆ‡å°ˆæ¥­æ„Ÿï¼š
```markdown
## Code Review Summary

### Critical Issues
- [File:Line] Issue description
  - Problem: ...
  - Solution: ...
```

### 4. è·¨ç³»çµ±æ•´åˆ (Cross-Integration)
ä¸»å‹•å¼•å°ä½¿ç”¨è€…ä½¿ç”¨ç›¸é—œçš„ Skillsï¼š
```markdown
**Note**: For comprehensive security review, use the `laravel-security-review` skill.
```

### 5. Token æ•ˆç‡ (Token Efficiency)
ç‚ºäº†ç¯€çœ Token ä¸¦æå‡å›æ‡‰é€Ÿåº¦ï¼Œè«‹éµå¾ªä»¥ä¸‹æ’°å¯«åŸå‰‡ï¼š
- **ç²¾ç°¡å…§å®¹**: ç§»é™¤å†—é•·çš„è§£èªªï¼Œæ”¹ç”¨è¦é»æ¸…å–® (Bullet points)ã€‚
- **å¤–éƒ¨å¼•ç”¨**: å°‡è©³ç´°çš„ä»£ç¢¼ç¯„ä¾‹ã€æœ€ä½³å¯¦è¸ç§»è‡³ `*-conventions.md`ã€‚
- **åƒ…ä¿ç•™æ±ºç­–**: Agent æ‡‰å°ˆæ³¨æ–¼ã€Œå¦‚ä½•åˆ¤æ–·ã€èˆ‡ã€Œåšä»€éº¼ã€ï¼Œè€Œéã€Œæ•™ç§‘æ›¸å¼çš„çŸ¥è­˜ã€ã€‚
- **å¤§å°é™åˆ¶**: å–®å€‹ Agent å»ºè­°ä¸è¶…é 6 KB (~2,000 tokens)ã€‚


---

## ğŸš€ æœ€ä½³å¯¦è¸ç²¾è¦ (Checklist)

- [ ] **æ¸…æ™°è§’è‰²**: ä½¿ç”¨ "You are an expert..." é–‹é ­ã€‚
- [ ] **ä¸»å‹•æª¢æŸ¥**: è¦æ±‚ Agent ä¸»å‹•ç™¼ç¾æ½›åœ¨å•é¡Œ (å¦‚ N+1)ã€‚
- [ ] **å…·é«”ç¯„ä¾‹**: åœ¨æŒ‡ä»¤ä¸­åŒ…å«ã€Œå¥½ã€èˆ‡ã€Œå£ã€çš„ç¯„ä¾‹ã€‚
- [ ] **æŒçºŒå„ªåŒ–**: æ ¹æ“šå¯¦éš›ä½¿ç”¨çµæœèª¿æ•´ `description` èˆ‡æ ¸å¿ƒæŒ‡ä»¤ã€‚
